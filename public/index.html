<!doctype html>
<html>
  <head>
  </head>
  <body style="background:red">
    <button id="fgcolor"></button>
    <button id="bgcolor"></button>
    <canvas id="canvas" width="150" height="150" />
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
    <script>
      //
      // data = { top: #, left: #, width: #, height: #, data: [r,g,b,a,r,g,b,a,...]}
      //
      //
      $(function(){
        $('body').mousemove(function(){
             
        });
      });
      function drawRect(data) {
        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        var imgData = ctx.createImageData(data.height,data.width);
        for(var i = 0; i < data.data.length; i++) {
          imgData.data[i] = data.data[i];
        }
        ctx.putImageData(imgData,0,0);
      }
      var socket = io.connect('//'+location.host);
      socket.on('raster', drawRect);
    </script>
  </body>
</html>